1class Solution {
2public:
3    bool validWordSquare(vector<string>& words) {
4        const int n = words.size();
5        for (int i = 1; i < n; ++i) {
6            if (words[i].length() > words[i - 1].length()) {
7                return false;
8            }
9        }
10        if (words[0].size() != n) {
11            return false;
12        }
13        for (int i = 0; i < n; ++i) {
14            string s;
15            for (int j = 0; j < n && i < words[j].length(); s.push_back(words[j++][i]))
16            ;
17            if (s != words[i]) {
18                return false;
19            }
20        }
21        return true;
22    }
23};